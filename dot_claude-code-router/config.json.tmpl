{{- /* devSakura settings are loaded from local chezmoi data (not tracked in git) */ -}}
{{- $devSakura := get . "claudeCodeRouterDevSakura" -}}
{{- $devSakuraEnabled := false -}}
{{- if $devSakura -}}
{{- $devSakuraEnabled = true -}}
{{- end -}}
{
  "$schema": "https://raw.githubusercontent.com/musistudio/claude-code-router/main/config.schema.json",
  "LOG": true,
  "LOG_LEVEL": "debug",
  "API_TIMEOUT_MS": 3000000,
  "Providers": [
    {
      "name": "sakura-aiengine",
      "api_base_url": "https://api.ai.sakura.ad.jp/v1/chat/completions",
      "api_key": "$SAKURA_AIENGINE_API_KEY",
      "models": [
        "Qwen3-Coder-30B-A3B-Instruct",
        "Qwen3-Coder-480B-A35B-Instruct-FP8",
        "gpt-oss-120b"
      ]
    }{{ if $devSakuraEnabled }},
    {
      "CLAUDE_PATH": "{{ $devSakura.CLAUDE_PATH }}",
      "name": "{{ $devSakura.name }}",
      "api_base_url": "{{ $devSakura.api_base_url }}",
      "api_key": "{{ $devSakura.api_key }}",
      "models": {{ $devSakura.models | toPrettyJson }}
    }{{ end }}
  ],
  "Router": {
    "default": "sakura-aiengine,gpt-oss-120b"{{ if $devSakuraEnabled }},
    "background": "{{ $devSakura.background }}"{{ end }},
    "think": "sakura-aiengine,gpt-oss-120b",
    "longContext": "sakura-aiengine,Qwen3-Coder-480B-A35B-Instruct-FP8",
    "longContextThreshold": 60000{{ if $devSakuraEnabled }},
    "webSearch": "{{ $devSakura.webSearch }}",
    "image": "{{ $devSakura.image }}"{{ end }}
  }
}
